## Short Term

- [x] Change data structure of game so that there are separate arrays of flipped and unflipped letters
- [x] Implement resolver for player writing a word
- [x] Refactor mutationResolvers file
- [x] Actually finish writeWord resolver, working with frontend
- [x] Add subscription for writeWord
- [x] Refactor subscriptions
- [x] Add mutations for snatching
    - [x] Test snatchLetters function
    - [x] Create snatchWord resolver
    - [x] Make sure resolver searches for words from all players in the game
    - [x] Sort out subscriptions and get working with frontend
    - [x] Refactor mutationResolvers file
- [x] Migrate over to using gqlobby-server
    - [x] Convert actions
    - [x] Write tests for edge cases of actions
    - [x] Make sure helpers still work
        - [x] Write tests for letter helpers
            - [x] getLettersForWord
            - [x] handleLetterFlip
            - [x] snatchLetters
        - [x] Integrate letter flipping back into actions
            - [x] Add back into declareReadiness action
            - [x] Extend tests for declareReadiness action accordingly
    - [x] Get server startable again
    - [x] Sort out resolvers
        - [x] Get them working with actions
        - [x] Add createGameInProgress action and resolver
            - [x] Basic functionality
            - [x] Test basic functionality
            - [x] Refactor action to use dependency injection
            - [x] letter flipping
                - [x] Refactor it so that it modifies the state
                - [x] Update declareReadiness and createGameInProgress actions accordingly
            - [x] Test letter flipping
                - [x] Update handleletterFlip test
                - [x] Update declareReadiness test
                - [x] Update createGameInProgress test
            - [x] Incorporate into resolver
        - [x] Add pubsub stuff back
- [x] Initial deployment
    - [x] Manual deployment with railway
    - [x] Create deployment pipeline   
- [x] Fix bug where players snatching their own words duplicates the word
- [x] Add end condition
    - [x] Count up score
        - [x] Create a score counting function
        - [x] Test score counting function
        - [x] Create aggregate score counting and sorting function
        - [x] Test aggregate scores counting function
    - [x] Delete game when done
    - [x] Integrate with frontend
        - [x] Change scores function to use player id instead of name
        - [x] Publish message to frontend with score summary
        - [x] Delete lobby game instance too
- [ ] Keep track of letter rotation on backend
- [ ] More advanced snatching word mechanic
- [ ] Update gqlobby-server to use the same subscription for gameStarted, gameEnded and gameRemoved